webpackJsonp([1],{"9M+g":function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("MU8w"),s("j1ja");var r=s("7+uW"),a=s("Tqaz"),o=s("Dd8w"),n=s.n(o),i=s("NYxO"),l={data:function(){return{}},computed:n()({},Object(i.c)(["isLogin","isLoginError"])),methods:n()({},Object(i.b)(["logout"]))},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("body",[s("div",{attrs:{id:"wrap"}},[s("header",{attrs:{id:"header"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"top_menu"},[s("router-link",{directives:[{name:"show",rawName:"v-show",value:!1===e.isLogin,expression:"isLogin===false"}],attrs:{to:"login"}},[e._v("로그인")]),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],attrs:{to:"myPage"}},[e._v("마이페이지")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],on:{click:e.logout}},[e._v("로그아웃")]),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:!1===e.isLogin,expression:"isLogin===false"}],attrs:{to:"register"}},[e._v("회원가입")]),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:!1===e.isLogin,expression:"isLogin===false"}],attrs:{to:"/"}},[e._v("아이디 찾기")]),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:!1===e.isLogin,expression:"isLogin===false"}],attrs:{to:"/"}},[e._v("비밀번호 찾기")])],1),e._v(" "),s("h1",[s("router-link",{attrs:{to:"/"}},[e._v("이유식 요리사")])],1)])]),e._v(" "),e._m(0),e._v(" "),s("footer")])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",[s("nav",{staticClass:"gnb"},[s("h2",[e._v("GNB")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#"}},[e._v("레시피")]),e._v(" "),s("p",[e._v("레시피 내용")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"}},[e._v("회원공유레시피")]),e._v(" "),s("p",[e._v("회원공유레시피 내용")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"}},[e._v("정보")]),e._v(" "),s("p",[e._v("정보 내용")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"}},[e._v("자유게시판")]),e._v(" "),s("p",[e._v("자유게시판 내용")])])])])])}]};var u={name:"App",components:{Header:s("VU/8")(l,c,!1,function(e){s("WxN0")},"data-v-cf9ae71c",null).exports}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Header"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var d=s("VU/8")(u,m,!1,function(e){s("cyKA")},null,null).exports,v=s("/ocq"),p=s("mtWM"),f=s.n(p),b=s("ytdl"),g=s.n(b);r.default.use(i.a);var h=new i.a.Store({state:{memberInfo:null,isLogin:!1,isLoginError:!1,isTrustToken:!1},mutations:{loginSuccess:function(e,t){e.isLogin=!0,e.isLoginError=!1,e.memberInfo=t},loginError:function(e){e.isLogin=!1,e.isLoginError=!0},logout:function(e){e.isLogin=!1,e.isLoginError=!1,e.memberInfo=null}},actions:{login:function(e,t){var s=e.dispatch,r=e.commit;f.a.post("member/login",t).then(function(e){var t=e.headers.token;void 0===t?r("loginError"):(localStorage.setItem("accessToken",t),s("getMemberInfo"),T.push("/",function(){}))})},getMemberInfo:function(e){var t=e.dispatch,s=(e.state,e.commit),r=localStorage.getItem("accessToken");if(null!==r){var a=g()(r);f.a.get("member/findById/"+a.sub).then(function(e){var t={id:a.sub,nickName:e.headers.nickname};s("loginSuccess",t)}),f.a.defaults.headers.common.Authorization=r,f.a.defaults.headers.common.MemberId=a.sub,t("checkToken")}},logout:function(e){var t=e.commit;localStorage.removeItem("accessToken"),t("logout"),T.push("/",function(){})},checkToken:function(e){var t=e.dispatch;f.a.get("member/validateToken").then(function(e){"expired"===e.headers.tokenvalid&&t("logout")})}}}),_={data:function(){return{User:{id:"",password:"",nickName:"",email:""},password2:""}},methods:{userRegister:function(){var e=this,t=!1;this.User.password.length>=6&&this.User.password===this.password2&&(t=!0),t?(console.log(this.User),f.a.post("member/register",this.User).then(function(){e.$router.push("/",function(){})})):alert("실패")}},computed:{msg1:function(){return""===this.User.password?"":this.User.password.length<6?"6글자 이상 입력하세요.":""},msg2:function(){return""===this.password2?"":this.password2.length<6?"6글자 이상 입력하세요.":this.password2!==this.User.password?"비밀번호가 일치하지 않습니다":"비밀번호와 일치합니다."}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form"},[s("b-card",{attrs:{"bg-variant":"light"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"4",label:"회원 가입","label-size":"lg","label-class":"font-weight-bold pt-5"}},[s("b-form-group",{attrs:{"label-cols-sm":"3",label:"아이디:","label-align-sm":"right","label-for":"id"}},[s("b-form-input",{attrs:{id:"id"},model:{value:e.User.id,callback:function(t){e.$set(e.User,"id",t)},expression:"User.id"}})],1),e._v(" "),s("b-form-group",{attrs:{"label-cols-sm":"3",label:"비밀번호:","label-align-sm":"right","label-for":"password"}},[s("b-form-input",{attrs:{id:"password",type:"password"},model:{value:e.User.password,callback:function(t){e.$set(e.User,"password",t)},expression:"User.password"}}),e._v("\n     "+e._s(e.msg1)+"\n   ")],1),e._v(" "),s("b-form-group",{attrs:{"label-cols-sm":"3",label:"비밀번호 확인:","label-align-sm":"right","label-for":"password2"}},[s("b-form-input",{attrs:{id:"password2",type:"password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),e._v("\n     "+e._s(e.msg2)+"\n   ")],1),e._v(" "),s("b-form-group",{attrs:{"label-cols-sm":"3",label:"닉네임:","label-align-sm":"right","label-for":"nickName"}},[s("b-form-input",{attrs:{id:"nickName"},model:{value:e.User.nickName,callback:function(t){e.$set(e.User,"nickName",t)},expression:"User.nickName"}})],1),e._v(" "),s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"이메일:","label-align-sm":"right"}},[s("b-form-input",{attrs:{id:"email",type:"email"},model:{value:e.User.email,callback:function(t){e.$set(e.User,"email",t)},expression:"User.email"}})],1),e._v(" "),s("b-button",{staticClass:"button",attrs:{variant:"info"},on:{click:e.userRegister}},[e._v("회원 가입")])],1)],1)],1)},staticRenderFns:[]};var k=s("VU/8")(_,w,!1,function(e){s("mdTP")},"data-v-4d3a0012",null).exports,L={data:function(){return{id:"",password:""}},computed:n()({},Object(i.c)(["isLoginError"])),methods:n()({},Object(i.b)(["login"]))},U={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-alert",{staticStyle:{width:"40rem"},attrs:{variant:"danger",show:e.isLoginError}},[e._v("\n  아이디와 비밀번호를 확인하세요.\n  ")]),e._v(" "),s("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem"},attrs:{title:"LOGIN"}},[s("b-card-text",[s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",[e._v("아이디:")])]),e._v(" "),s("b-col",{attrs:{sm:"10"}},[s("b-form-input",{attrs:{size:"sm",placeholder:"아이디를 입력해주세요."},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),s("b-col",{attrs:{sm:"2"}},[s("label",[e._v("비밀번호:")])]),e._v(" "),s("b-col",{attrs:{sm:"10"}},[s("b-form-input",{attrs:{size:"sm",placeholder:"비밀번호를 입력해주세요."},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),s("b-button",{on:{click:function(t){return e.login({id:e.id,password:e.password})}}},[e._v("LOGIN")])],1)],1)],1)},staticRenderFns:[]},x=s("VU/8")(L,U,!1,null,null,null).exports,N={data:function(){return{}},computed:n()({},Object(i.c)(["memberInfo"]))},E={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v(this._s(this.memberInfo.nickName)+"님 환영합니다.")])])},staticRenderFns:[]},y=s("VU/8")(N,E,!1,null,null,null).exports;r.default.use(v.a);var I=function(e,t,s){!0===h.state.isLogin?(alert("이미 로그인하였습니다."),s("/")):s()},T=new v.a({mode:"history",routes:[{path:"/register",name:"Register",beforeEnter:I,component:k},{path:"/login",name:"Login",beforeEnter:I,component:x},{path:"/myPage",name:"MyPage",beforeEnter:function(e,t,s){!1===h.state.isLogin?(alert("로그인이 필요합니다."),s("/")):s()},component:y}]});s("Jmt5"),s("9M+g");r.default.config.productionTip=!1,r.default.use(a.a),new r.default({el:"#app",router:T,store:h,beforeCreate:function(){this.$store.dispatch("getMemberInfo")},components:{App:d},template:"<App/>"})},WxN0:function(e,t){},cyKA:function(e,t){},mdTP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3854230cee0311cac11f.js.map